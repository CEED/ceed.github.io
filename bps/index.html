<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

<!--	<title>Benchmarks - CEED</title>  -->
    <title>Center for Efficient Exascale Discretizations</title>

        <link href="../css/bootstrap-ceed.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">CEED</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
            
            
            
                <li >
                    <a href="../news/">News</a>
                </li>
            
            
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Co-Design <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
                            <li class="active">
                                 <a href="./">Benchmarks</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../miniapps/">Miniapps</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../ap/">Applications</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../hw/">Hardware</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../sw/">Software</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../partners/">Partners</a>
                            </li>
                        
                    
                    </ul>
                </li>
            
            
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Software <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
                            <li >
                                 <a href="../ceed-code/">CEED</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../nek/">Nek</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../mfem/">MFEM</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../magma/">MAGMA</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../occa/">OCCA</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../holmes/">Holmes</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../petsc/">PETSc</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../pumi/">PUMI</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../gslib/">gslib</a>
                            </li>
                        
                    
                    </ul>
                </li>
            
            
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Research <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
                            <li >
                                 <a href="../fe/">Finite Elements</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../formats/">Formats</a>
                            </li>
                        
                    
                        
                            <li >
                                 <a href="../pubs/">Publications</a>
                            </li>
                        
                    
                    </ul>
                </li>
            
            
            
            
            
                <li >
                    <a href="../about/">About</a>
                </li>
            
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li>
                    <a href="https://github.com/ceed">
                        
                            <i class="fa fa-github-square"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
            <div class="col-md-3 visible-xs visible-sm"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#ceed-bake-off-problems-benchmarks">CEED Bake-off Problems (Benchmarks)</a></li>
        
            <li><a href="#some-terminology-and-notation">Some terminology and notation</a></li>
        
            <li><a href="#bake-off-problem-1">Bake-off problem 1</a></li>
        
    
    <hr style="background-color:white; height:20px; margin-left:-1px;  margin-right:-1px; margin-top:15px; margin-bottom:10px " />
    <li style="padding:0"><a href="https://github.com/CEED/forum"></i><i class="fa fa-comment-o"></i> Contact the CEED team</a> </li>
    </ul>
</div>

<!-- Possible contact icons: fa-bolt, fa-cogs, fa-user, fa-star-o -->
<!-- ... fa-comment, fa-comment-o, fa-comments, fa-comments-o, fa-bullhorn --></div> <!-- toc on top on mobile -->
            <div class="col-md-9" role="main">

<h2 id="ceed-bake-off-problems-benchmarks">CEED Bake-off Problems (Benchmarks)</h2>
<p><em>This page is under construction</em></p>
<ul>
<li>Bake off problems specifications</li>
<li>Database of results from CEED codes</li>
<li>Reference implementation in libCEED</li>
<li>Target audience is: ECP vendors, ST projects, other high-order codes</li>
</ul>
<h3 id="some-terminology-and-notation">Some terminology and notation</h3>
<p>Vector representation/storage categories:</p>
<ul>
<li>True degrees of freedom/unknowns, <strong>T-vector</strong>:<ul>
<li>each unknown $i$ has exactly one copy, on exactly one processor, $rank(i)$</li>
<li>this is a non-overlapping vector decomposition</li>
<li>usually includes any essential (fixed) dofs.
<img alt="T-vector" src="../img/T-vector.svg" /></li>
</ul>
</li>
<li>Local true degrees of freedom/unknowns, <strong>L-vector</strong>:<ul>
<li>each unknown $i$ has exactly one copy on each processor that owns an
  element contaning $i$</li>
<li>this is an overlapping vector decomposition with overlaps only across
  different processors - there is no duplication of unknowns on a single
  processor</li>
<li>the shared dofs/unknowns are the overlapping dofs, i.e. the ones that have
  more than one copy, on different processors.
  <img alt="L-vector" src="../img/L-vector.svg" /></li>
</ul>
</li>
<li>Per element decomposition, <strong>E-vector</strong>:<ul>
<li>each unknown $i$ has as many copies as the number of elements that contain
  $i$</li>
<li>usually, the copies of the unknowns are grouped by the element they belong
  to.
  <img alt="E-vector" src="../img/E-vector.svg" /></li>
</ul>
</li>
<li>In the case of hanging nodes (giving rise to hanging dofs):<ul>
<li>there is another represention similar to L-vector which stores the
  hanging/dependent dofs in addition to the true dofs, <strong>H-vector</strong></li>
<li>the additional hanging dofs are duplicated when they are shared by
  multiple processors.</li>
</ul>
</li>
<li>In the case of variable order spaces:<ul>
<li>the dependent dofs (usually on the higher-order side of a face/edge) can
  be treated just like the hanging/dependent dofs case</li>
<li>have both L- and H-vector representations.</li>
</ul>
</li>
<li>Quadrature point vector, <strong>Q-vector</strong>:<ul>
<li>this is similar to E-vector where instead of dofs, the vector represents
  values at qudrature points, grouped by element.</li>
</ul>
</li>
<li>In many cases it is useful to distinguish two types of vectors:<ul>
<li>X-vector, or <strong>primal</strong> X-vector, and X'-vector, or <strong>dual</strong> X-vector</li>
<li>here X can be any of the T, L, H, E, or Q categories</li>
<li>for example, the mass matrix operator maps a T-vector to a T'-vector</li>
<li>the solutions vector is a T-vector, and the RHS vector is a T'-vector</li>
<li>using the parallel prolongation operator, one can map the solution
  T-vector to a solution L-vector, etc.</li>
</ul>
</li>
</ul>
<p>Operator representation/storage/action categories:</p>
<ul>
<li>Full true-dof parallel assembly, <strong>TA</strong>, or <strong>A</strong>:<ul>
<li>ParCSR or similar format</li>
<li>the T in TA indicates that the data format represents an operator from a
  T-vector to a T'-vector.</li>
</ul>
</li>
<li>Full local assembly, <strong>LA</strong>:<ul>
<li>CSR matrix on each rank</li>
<li>the parallel prolongation operator, $P$, (and its transpose) should use
  optimized matrix-free action</li>
<li>note that $P$ is the operator mapping T-vectors to L-vectors.</li>
</ul>
</li>
<li>Element matrix assembly, <strong>EA</strong>:<ul>
<li>each element matrix is stored as a dense matrix</li>
<li>optimized element and parallel prolongation operators</li>
<li>note that the element prolongation operator is the mapping from an
  L-vector to an E-vector.</li>
</ul>
</li>
<li>Quadrature-point/partial assembly, <strong>QA</strong> or <strong>PA</strong>:<ul>
<li>precompute and store $w\det(J)$, or $\det(J)$ (in the case of mass matrix)
  at all quadrature points in all mesh elements</li>
<li>the stored data can be viewed as a Q-vector.</li>
</ul>
</li>
<li>Unassembled option,  <strong>UA</strong> or <strong>U</strong>:<ul>
<li>no assembly step</li>
<li>the action uses directly the mesh node coordinates, and assumes specific
  form of the coefficient, e.g. constant, piecewise-constant, or given as a
  Q-vector (Q-coefficient).</li>
</ul>
</li>
</ul>
<h3 id="bake-off-problem-1">Bake-off problem 1</h3>
<p>Setup:</p>
<ul>
<li>Mass matrix</li>
<li>Coefficient: constant $1$</li>
<li>3D hex mesh</li>
<li>No essential boundary conditions</li>
<li>Solution space orders: $p=2,3,\ldots,15$; also, consider $p=1$?</li>
<li>Quadrature: Gauss-Legendre (GL) with $q=p+2$ points in each spatial
  dimension; the qudrature order is $2q-1$</li>
<li>Also, consider $q=2$, for $p=1$, and $q=3$, for $p=2$</li>
<li>Nodal basis using $p+1$ Gauss-Legendre-Lobatto (GLL) points in each spatial
  dimension</li>
<li>Consider mesh orders of $p_{mesh}=1$, and $p_{mesh}=p$</li>
<li>Focus on the QA/PA operator representation</li>
<li>Meshes: ...</li>
<li>Number of MPI tasks, and number of MPI tasks per node:<ul>
<li>On ALCF's BG/Q, <code>cetus</code>: $2^{14}$ tasks total, with $2^5$ tasks per node</li>
</ul>
</li>
<li>...</li>
</ul>
<p>Report:</p>
<ul>
<li>Number of mesh elements, $E$</li>
<li>Polynomial degree, $N$, or $p$</li>
<li>Total number of degrees of freedom, $n_T$ (size of a T-vector), or
  approximately $n:=E N^3$</li>
<li>Time per iteration = total CG time $/$ number of CG iterations</li>
<li>Number of iterations to reach relative residual reduction of $10^{-6}$</li>
<li>Time for quadrature-point/partial assembly</li>
<li>Time is measured as maximum over all MPI ranks; using <code>MPI_Wtime()</code> or other</li>
<li>...</li>
</ul>
<script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: {equationNumbers: {autoNumber: "all"}}, tex2jax: {inlineMath: [['$','$']]}});</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script></div>
            <div class="col-md-3 hidden-xs hidden-sm"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#ceed-bake-off-problems-benchmarks">CEED Bake-off Problems (Benchmarks)</a></li>
        
            <li><a href="#some-terminology-and-notation">Some terminology and notation</a></li>
        
            <li><a href="#bake-off-problem-1">Bake-off problem 1</a></li>
        
    
    <hr style="background-color:white; height:20px; margin-left:-1px;  margin-right:-1px; margin-top:15px; margin-bottom:10px " />
    <li style="padding:0"><a href="https://github.com/CEED/forum"></i><i class="fa fa-comment-o"></i> Contact the CEED team</a> </li>
    </ul>
</div>

<!-- Possible contact icons: fa-bolt, fa-cogs, fa-user, fa-star-o -->
<!-- ... fa-comment, fa-comment-o, fa-comments, fa-comments-o, fa-bullhorn --></div>

            
        </div>

        <footer class="footer hidden-xs">
           <div class="container">
              <p class="text-muted alignleft">
              Developed by the <a href="../about/">CEED team</a>
              as part of the <a href="http://exascaleproject.org">Exascale Computing Project</a>
              </p>
              <div style="text-align:right">
                  <a href="http://exascaleproject.org">
                  <img src="../img/ecp-black.png"
                  style="display:inline;height:50px;padding:10px;margin:0"
                  alt="ECP logo"></a>
                  <a href="https://science.energy.gov/">
                  <img src="../img/doe-sc.png"
                  style="display:inline;height:50px;padding:10px;margin:0"
                  alt="DOE-SC logo"></a>
                  <a href="https://nnsa.energy.gov/">
                  <img src="../img/nnsa.png"
                  style="display:inline;height:50px;padding:10px;margin:0"
                  alt="NNSA logo"></a>
               </div>
               <!-- footer height is 50px -->
           </div>
        </footer>

        <footer class="footer hidden-md hidden-sm hidden-lg">
           <div class="container">
              <p class="text-muted alignleft">
              Developed by the <a href="../about/">CEED team</a>
              </p>
              <div style="text-align:right">
                  <a href="http://exascaleproject.org">
                  <img src="../img/ecp-black.png"
                  style="display:inline;height:50px;padding:10px;margin:0"
                  alt="ECP logo"></a>
              </div>
           </div>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
        <script src="../js/retina.min.js"></script>
    </body>
</html>